<div>
  <mat-card class="text-center p-4">
    <div class="mb-2">
      <p class="fs-3 fw-bold">
        Add Category
      </p>
    </div>
    <mat-card-content>
      <form [formGroup]="addCategoryForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-3">
            <mat-form-field style="margin-left:15px">
              <mat-select formControlName="TechnologyId" placeholder="Technology Name" aria-placeholder="Select Technology">
                <mat-option *ngFor="let technology of technologies" [value]="technology.id">
                  {{ technology.technologyName }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="addCategoryForm.get('TechnologyId')?.hasError('required') && addCategoryForm.get('TechnologyId')?.touched">
                Selection of Technology is required
              </mat-error>
            </mat-form-field>
           
          </div>
        </div>
       
        <div formArrayName="TutorialCategoryName" class="row">
          <div class="col-md-1">
            <mat-icon mat-raised-button color="primary" (click)="addCategory()" type="button">add</mat-icon>
          </div>
          <div *ngFor="let categoryGroup of TutorialCategoryName.controls; let i = index" [formGroupName]="i" class="col-md-3">
            <div class="category-input">
              <mat-form-field appearance="fill">
                <input matInput formControlName="name" placeholder="Category Name">
              </mat-form-field>
              <mat-icon color="warn" (click)="removeCategory(i)" aria-hidden="false" aria-label="Remove item" *ngIf="categoryGroup.get('name')?.value">cancel</mat-icon>
            </div>
          </div>
         
        </div>
        <mat-error *ngIf="showError">
          At least one category name must be there
        </mat-error>
        <mat-error *ngIf="showFormError">
          Form is Invalid
        </mat-error>
        <button mat-raised-button color="primary" type="submit" class="row" class="add">Submit</button>
       
      </form>
    </mat-card-content>
  </mat-card>
</div>



<div style="text-align: center;height: 88vh;">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> <b>No.</b> </th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>
    <!-- Name Column -->
    <ng-container matColumnDef="technologyName">
      <th mat-header-cell *matHeaderCellDef> <b>Technology Name</b> </th>
      <td mat-cell *matCellDef="let element"> {{element.technologyName}} </td>
    </ng-container>
 
    <ng-container matColumnDef="tutorialCategoryName">
      <th mat-header-cell *matHeaderCellDef> <b>Category Name</b></th>
      <td mat-cell *matCellDef="let element"> {{element.tutorialCategoryName}} </td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef><b> Actions</b> </th>
      <td mat-cell *matCellDef="let element"><button mat-raised-button color="primary" *ngIf="!element.isPublished" (click)="onPublish(element)" class="varButton">Publish</button><button *ngIf="element.isPublished" mat-raised-button color="accent" class="varButton">Approved</button>&nbsp; <button mat-raised-button color="warn" (click)="onDelete(element)" class="varButton">Delete</button>&nbsp;&nbsp;<button mat-raised-button (click)="onEdit(element.id)" class="varButton">Edit</button></td>
    </ng-container>
 
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

 
    <mat-paginator 
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageSizeOptions]="[3, 5,10]"
  
    (page)="pageChanged($event)"  class="custom-paginator" style="margin-top: 1px;">
  </mat-paginator>

   

 

  </div>